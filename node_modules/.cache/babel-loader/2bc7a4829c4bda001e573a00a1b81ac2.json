{"ast":null,"code":"import _slicedToArray from\"/Users/abidin/Desktop/arcgis/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/abidin/Desktop/arcgis/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abidin/Desktop/arcgis/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/abidin/Desktop/arcgis/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/abidin/Desktop/arcgis/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/abidin/Desktop/arcgis/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import LogoImage from'../logo.png';import{loadModules,loadCss}from'esri-loader';export var WebMapView=/*#__PURE__*/function(_React$Component){_inherits(WebMapView,_React$Component);function WebMapView(props){var _this;_classCallCheck(this,WebMapView);_this=_possibleConstructorReturn(this,_getPrototypeOf(WebMapView).call(this,props));_this.mapRef=React.createRef();return _this;}_createClass(WebMapView,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;loadCss('https://js.arcgis.com/4.13/esri/themes/dark-blue/main.css');loadModules(['esri/Map','esri/WebScene','esri/views/SceneView','esri/layers/SceneLayer','esri/layers/FeatureLayer','esri/widgets/Search','esri/widgets/Legend','esri/layers/Layer','esri/widgets/LayerList','esri/core/Collection','esri/widgets/Expand',\"esri/PopupTemplate\",'esri/portal/PortalItem','esri/widgets/Locate','esri/Graphic']).then(function(_ref){var _ref2=_slicedToArray(_ref,15),Map=_ref2[0],WebScene=_ref2[1],SceneView=_ref2[2],SceneLayer=_ref2[3],FeatureLayer=_ref2[4],Search=_ref2[5],Legend=_ref2[6],Layer=_ref2[7],LayerList=_ref2[8],Collection=_ref2[9],Expand=_ref2[10],PopupTemplate=_ref2[11],PortalItem=_ref2[12],Locate=_ref2[13],Graphic=_ref2[14];var map=new Map({basemap:\"satellite\",ground:\"world-elevation\"});var yollar=new FeatureLayer({title:\"Yollar\",url:\"https://muglacbs.mugla.bel.tr/cbs/rest/services/MABS/Mabs_View_Yol/MapServer/0\",outFields:[\"YOLADI\",\"YOLTIP\"],popupTemplate:{title:\"Yol\",content:\"<p>Yol Tipi : {YOLTIP}</p><p>Yol Adı : {YOLADI}</p>\"}});map.add(yollar);var binalar=new SceneLayer({title:\"Binalar\",url:\"https://cbs.mugla.bel.tr/cbs/rest/services/Hosted/Yapilar3D_2/SceneServer\",outFields:[\"KATADEDI\",\"AD\",\"KIMLIKNO\",\"TIP\",\"DURUM\"],popupTemplate:{// Enable a popup\ntitle:\"Bina\",// Show attribute value\ncontent:\"<p>Tip : {TIP}</p><p>Durum : {DURUM}</p><p>Bina Adı : {AD}</p><p>Kimlik No : {KIMLIKNO}</p><p>Kat Adedi : {KATADEDI}</p>\"},definitionExpression:\"KATADEDI > 0\"});map.add(binalar);_this2.view=new SceneView({container:_this2.mapRef.current,map:map,camera:{position:{x:28.365316,y:37.150000,z:15000},tilt:25}});var symbolbinalar={type:\"mesh-3d\",symbolLayers:[{type:\"fill\",material:{color:[255,170,2]},edges:{type:\"solid\",color:\"black\"}}]};binalar.renderer={type:\"simple\",symbol:symbolbinalar};var search=new Search({view:_this2.view});var Katmanlar=new LayerList({view:_this2.view});var LayerExpand=new Expand({view:_this2.view,content:Katmanlar});var legend=new Legend({view:_this2.view,layerInfos:[{layer:map}]});var LegendExpand=new Expand({view:_this2.view,content:legend});var SorguExpand=new Expand({view:_this2.view,content:document.getElementById(\"optionsDiv\")});var locateWidget=new Locate({view:_this2.view,graphic:new Graphic({symbol:{type:\"simple-marker\"}})});var logovisible=document.getElementById(\"logoDiv\");logovisible.style.display=\"block\";_this2.view.ui.add(\"logoDiv\",\"bottom-right\");_this2.view.ui.add(locateWidget,\"top-left\");_this2.view.ui.add(search,\"top-right\");_this2.view.ui.add(LegendExpand,\"top-right\");_this2.view.ui.add(LayerExpand,\"top-right\");_this2.view.ui.add(SorguExpand,\"top-right\");});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"webmap\",ref:this.mapRef,style:{width:'100vw',height:'100vh'}},React.createElement(\"div\",{id:\"logoDiv\",style:{backgroundImage:\"url(\".concat(LogoImage,\")\"),textAlign:'center',width:'90px',height:'90px',boxShadow:'0 0 0',display:'none'}},React.createElement(\"div\",{class:\"esri-widget\",id:\"optionsDiv\",style:{padding:'10px',width:'300px'}},React.createElement(\"h3\",null,\"Sorgu\"),React.createElement(\"select\",{class:\"esri-select\",id:\"attSelect\"},React.createElement(\"option\",{className:\"item\",value:\"ELEV_ft\"}),React.createElement(\"option\",{value:\"PROMINENCE_ft\",selected:true},\"\\u0130L\\xC7E\")),React.createElement(\"br\",null),React.createElement(\"select\",{class:\"esri-select\",id:\"signSelect\"},React.createElement(\"option\",{value:\">\"},\"MAHALLE\"),React.createElement(\"option\",{value:\"<\"},\"is less than\"),React.createElement(\"option\",{value:\"=\"},\"is equal to\")),React.createElement(\"br\",null),React.createElement(\"select\",{class:\"esri-select\",id:\"valSelect\"},React.createElement(\"option\",{value:\"1000\"},\"YOL\"),React.createElement(\"option\",{value:\"5000\"},\"5,000 ft\"),React.createElement(\"option\",{value:\"10000\"},\"10,000 ft\"),React.createElement(\"option\",{value:\"15000\"},\"15,000 ft\"),React.createElement(\"option\",{value:\"20000\"},\"20,000 ft\")),React.createElement(\"br\",null),React.createElement(\"button\",{class:\"esri-button\",id:\"doBtn\"},\"Sonu\\xE7lar\\u0131 G\\xF6ster\"))));}}]);return WebMapView;}(React.Component);","map":{"version":3,"sources":["/Users/abidin/Desktop/arcgis/src/components/Arcgis3D.js"],"names":["React","LogoImage","loadModules","loadCss","WebMapView","props","mapRef","createRef","then","Map","WebScene","SceneView","SceneLayer","FeatureLayer","Search","Legend","Layer","LayerList","Collection","Expand","PopupTemplate","PortalItem","Locate","Graphic","map","basemap","ground","yollar","title","url","outFields","popupTemplate","content","add","binalar","definitionExpression","view","container","current","camera","position","x","y","z","tilt","symbolbinalar","type","symbolLayers","material","color","edges","renderer","symbol","search","Katmanlar","LayerExpand","legend","layerInfos","layer","LegendExpand","SorguExpand","document","getElementById","locateWidget","graphic","logovisible","style","display","ui","width","height","backgroundImage","textAlign","boxShadow","padding","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport LogoImage from '../logo.png'\nimport { loadModules, loadCss } from 'esri-loader';\n\n\n\nexport class WebMapView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.mapRef = React.createRef();\n  }\n\n  componentDidMount() {\n    loadCss('https://js.arcgis.com/4.13/esri/themes/dark-blue/main.css');\n\n    loadModules([\n      'esri/Map',\n      'esri/WebScene',\n      'esri/views/SceneView',\n      'esri/layers/SceneLayer',\n      'esri/layers/FeatureLayer',\n      'esri/widgets/Search',\n      'esri/widgets/Legend',\n      'esri/layers/Layer',\n      'esri/widgets/LayerList',\n      'esri/core/Collection',\n      'esri/widgets/Expand',\n      \"esri/PopupTemplate\",\n      'esri/portal/PortalItem',\n      'esri/widgets/Locate',\n      'esri/Graphic'\n    ])\n      .then(([\n        Map,\n        WebScene,\n        SceneView,\n        SceneLayer,\n        FeatureLayer,\n        Search,\n        Legend,\n        Layer,\n        LayerList,\n        Collection,\n        Expand,\n        PopupTemplate,\n        PortalItem,\n        Locate,\n        Graphic\n      ]) => {\n        var map = new Map({\n          basemap: \"satellite\",\n          ground: \"world-elevation\"\n        });\n\n        var yollar = new FeatureLayer({\n          title: \"Yollar\",\n          url: \"https://muglacbs.mugla.bel.tr/cbs/rest/services/MABS/Mabs_View_Yol/MapServer/0\",\n          outFields: [\"YOLADI\", \"YOLTIP\"],\n          popupTemplate: {\n            title: \"Yol\",\n            content: \"<p>Yol Tipi : {YOLTIP}</p><p>Yol Adı : {YOLADI}</p>\"\n          },\n\n        });\n\n        map.add(yollar);\n\n        var binalar = new SceneLayer({\n          title: \"Binalar\",\n          url: \"https://cbs.mugla.bel.tr/cbs/rest/services/Hosted/Yapilar3D_2/SceneServer\",\n          outFields: [\"KATADEDI\", \"AD\", \"KIMLIKNO\", \"TIP\", \"DURUM\"],\n          popupTemplate: {  // Enable a popup\n            title: \"Bina\", // Show attribute value\n            content: \"<p>Tip : {TIP}</p><p>Durum : {DURUM}</p><p>Bina Adı : {AD}</p><p>Kimlik No : {KIMLIKNO}</p><p>Kat Adedi : {KATADEDI}</p>\"\n          },\n          definitionExpression: \"KATADEDI > 0\",\n\n        });\n\n        map.add(binalar);\n\n        this.view = new SceneView({\n          container: this.mapRef.current,\n          map: map,\n          camera: {\n            position: {\n              x: 28.365316,\n              y: 37.150000,\n              z: 15000\n            },\n            tilt: 25\n          }\n        });\n\n        var symbolbinalar = {\n          type: \"mesh-3d\",\n          symbolLayers: [\n            {\n              type: \"fill\",\n              material: {\n                color: [255, 170, 2]\n              },\n              edges: {\n                type: \"solid\",\n                color: \"black\"\n              }\n            },\n          ]\n        };\n\n        binalar.renderer = {\n          type: \"simple\",\n          symbol: symbolbinalar\n        };\n\n        var search = new Search({\n          view: this.view\n        });\n\n        var Katmanlar = new LayerList({\n          view: this.view,\n        });\n\n        var LayerExpand = new Expand({\n          view: this.view,\n          content: Katmanlar,\n        });\n\n        var legend = new Legend({\n          view: this.view,\n          layerInfos: [{\n            layer: map,\n          }]\n        });\n\n        var LegendExpand = new Expand({\n          view: this.view,\n          content: legend,\n        });\n\n        var SorguExpand = new Expand({\n          view: this.view,\n          content: document.getElementById(\"optionsDiv\"),\n        });\n\n        var locateWidget = new Locate({\n          view: this.view,\n          graphic: new Graphic({\n            symbol: { type: \"simple-marker\" }\n          })\n        });\n\n        var logovisible = document.getElementById(\"logoDiv\")\n        logovisible.style.display = \"block\";\n\n        this.view.ui.add(\"logoDiv\", \"bottom-right\");\n        this.view.ui.add(locateWidget, \"top-left\");\n        this.view.ui.add(search, \"top-right\");\n        this.view.ui.add(LegendExpand, \"top-right\");\n        this.view.ui.add(LayerExpand, \"top-right\")\n        this.view.ui.add(SorguExpand, \"top-right\");\n\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"webmap\" ref={this.mapRef} style={{ width: '100vw', height: '100vh' }}>\n        <div id=\"logoDiv\" style={{\n          backgroundImage: `url(${LogoImage})`, textAlign: 'center',\n          width: '90px', height: '90px', boxShadow: '0 0 0', display: 'none'\n        }}>\n\n          <div class=\"esri-widget\" id=\"optionsDiv\" style={{padding: '10px', width:'300px'}}>\n            <h3>Sorgu</h3>\n            <select class=\"esri-select\" id=\"attSelect\">\n              <option className=\"item\" value=\"ELEV_ft\"></option>\n              <option value=\"PROMINENCE_ft\" selected>İLÇE</option>\n            </select>\n            <br />\n            <select class=\"esri-select\" id=\"signSelect\">\n              <option value=\">\">MAHALLE</option>\n              <option value=\"<\">is less than</option>\n              <option value=\"=\">is equal to</option>\n            </select>\n            <br />\n            <select class=\"esri-select\" id=\"valSelect\">\n              <option value=\"1000\">YOL</option>\n              <option value=\"5000\">5,000 ft</option>\n              <option value=\"10000\">10,000 ft</option>\n              <option value=\"15000\">15,000 ft</option>\n              <option value=\"20000\">20,000 ft</option>\n            </select>\n            <br />\n\n            <button class=\"esri-button\" id=\"doBtn\">Sonuçları Göster</button>\n          </div>\n\n        </div>\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}